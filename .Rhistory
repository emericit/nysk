install.packages("hexbin")
install.packages("RColorBrewer")
install.packages("MASS")
q()
q()
dfP <- read.csv("projectionP.txt/part-00000",header=F)
dfP
cl -> read.csv("classes.txt/part-00000",header:F)
cl <- read.csv("classes.txt/part-00000",header=F)
cl
dfP$class <- cl
dfP
dfP$class <- as.factor(cl)
dfP$class <- as.factor(cl$V1)
summary(dfP)
library(ggplot2)
ggplot(dfP,aes(x=dfP$V1,y=dfP$V2)° + geom_point(aes(colour=dfP$class))
ggplot(dfP,aes(x=dfP$V1,y=dfP$V2)) + geom_point(aes(colour=dfP$class))
dfP <- read.csv("projectionP.txt/part-00000",header=F)
dfP <- read.csv("projection.txt/part-00000",header=F)
cl <- read.csv("classes.txt/part-00000",header=F)
dfP$class <- as.factor(cl$V1)
ggplot(dfP,aes(x=dfP$V1,y=dfP$V2)) + geom_point(aes(colour=dfP$class))
ggplot(dfP,aes(x=dfP$V1,y=dfP$V2)) + geom_point(aes(colour=dfP$class)) + xlab("1er axe factoriel")
ggplot(dfP,aes(x=dfP$V1,y=dfP$V2)) + geom_point(aes(colour=dfP$class)) + xlab("1er axe factoriel") + ylab("2ème axe factoriel")
ggplot(dfP,aes(x=dfP$V1,y=dfP$V2)) + geom_point(aes(colour=dfP$class)) + xlab("1er axe factoriel") + ylab("2ème axe factoriel") + theme(legend.position="top")
ggplot(dfP,aes(x=dfP$V1,y=dfP$V2)) + geom_point(aes(colour=dfP$class)) + xlab("1er axe factoriel") + ylab("2ème axe factoriel") + theme(legend.position="top") + labs(colour="Classe")
dfP$class <- as.factor(cl$V1+1)
ggplot(dfP,aes(x=dfP$V1,y=dfP$V2)) + geom_point(aes(colour=dfP$class)) + xlab("1er axe factoriel") + ylab("2ème axe factoriel") + theme(legend.position="top") + labs(colour="Classe")
ggsave("classes-1-2.png")
ggplot(dfP,aes(x=dfP$V1,y=dfP$V3)) + geom_point(aes(colour=dfP$class)) + xlab("1er axe factoriel") + ylab("3ème axe factoriel") + theme(legend.position="top") + labs(colour="Classe")
ggsave("classes-1-3.png")
ggplot(dfP,aes(x=dfP$V2,y=dfP$V3)) + geom_point(aes(colour=dfP$class)) + xlab("2ème axe factoriel") + ylab("3ème axe factoriel") + theme(legend.position="top") + labs(colour="Classe")
ggsave("classes-2-3.png")
df <- read.csv("output.txt/part-00000",header=F")
df <- read.csv("output.txt/part-00000",header=F)
df
summary(df)
read.csv?
?read.csv
df <- read.csv("output.txt/part-00000",header=F,colClasses=c(NA,"Date",factor))
df <- read.csv("output.txt/part-00000",header=F,colClasses=c(NA,"Date","Factor"))
df <- read.csv("output.txt/part-00000",header=F,colClasses=c(NA,"Date","factor"))
summary(df)
df$C1 <- (df$V3==0).cumsum
df$C1 <- (df$V3==0).cumsum()
df$V3==0
cumsum(df$V3==0)
df$C1 <- cumsum(df$V3==0)
summary(df)
df$C2 <- cumsum(df$V3==1)
df$C3 <- cumsum(df$V3==2)
df$C4 <- cumsum(df$V3==3)
df$C5 <- cumsum(df$V3==4)
df$CT <- df$C1+df$C2+df$C3+df$C4+df$C5
ggplot(df,aes(x=df$V2,y=df$C1/df$CT)) + geom_line()
df$classe1 <q- df$C1/df*CT
df$classe1 <q- df$C1/df$CT
df$classe1 <- df$C1/df$CT
df$classe2 <- df$C2/df$CT
df$classe3 <- df$C3/df$CT
df$classe4 <- df$C4/df$CT
df$classe5 <- df$C5/df$CT
ggplot(df[,c("V2","classe1","classe2","classe3","classe4","classe5"))
ggplot(df[,c("V2","classe1","classe2","classe3","classe4","classe5")])
ggplot(df[,c("V2","classe1","classe2","classe3","classe4","classe5")]) + geom_line()
df[,c("V2","classe1","classe2","classe3","classe4","classe5")]
ggplot(df[,c("V2","classe1","classe2","classe3","classe4","classe5")],aes(x="V2")) + geom_line()
ggplot(df[,c("V2","classe1","classe2","classe3","classe4","classe5")],aes(x="V2")) + geom_line(y="classe1")
s <- df[,c("V2","classe1","classe2","classe3","classe4","classe5")]
summary(s)
s
ggplot(s, position="stacj")
ggplot(s, position="stack")
ggplot(s, position="stack") + geom_line()
ggplot(s, aes(x="s$V2"), position="stack") + geom_line()
ggplot(s, aes(x="s$V2"), position="stack") + geom_line(y=s$classe1)
ggplot(s, aes(x="s$V2"), position="stack") + geom_line(y=s$classe1) + geom_line(y=s$classe2)
ggplot(s, aes(x="s$V2")) + geom_line(y=s$classe1) + geom_line(y=s$classe2)
s$V2
summary(s)
ggplot(s, aes(x="s$V2")) + geom_line(y=s$classe1)
ggplot(df[,c("V2","classe1","classe2","classe3","classe4","classe5")],aes(x="V2")) + geom_line(y="classe1")
ggplot(df,aes(x=df$V2)) + geom_line(y=df$classe1)
ggplot(df,aes(x=df$V2)) + geom_line(y=df$classe1) + geom_line(y=df$classe2)
ggplot(df,aes(x=df$V2)) + geom_line(y=df$classe1) + geom_line(y=df$classe2) + legend()
ggplot(df,aes(x=df$V2)) + geom_line(y=df$classe1) + geom_line(y=df$classe2) + geom_line(y=df$classe3)
ggplot(df,aes(x=df$V2)) + geom_line(y=df$classe1) + geom_line(y=df$classe2) + geom_line(y=df$classe3) + geom_line(y=df$classe4) + geom_line(y=df$classe5)
ggplot(df,aes(x=df$V2)) + geom_line(y=df$classe1) + geom_line(y=df$classe2) + geom_line(y=df$classe3) + geom_line(y=df$classe4) + geom_area(y=df$classe5)
summary(df)
?read.table
df <- read.csv("output.txt/part-00000",header=F,colClasses=c(NA,"Date","factor"),format='%Y-%m-%y %H:%M:%S')
df <- read.csv("output.txt/part-00000",header=F,colClasses=c(NA,"POSIXct","factor")))
df <- read.csv("output.txt/part-00000",header=F,colClasses=c(NA,"POSIXct","factor"))
df
summary(df)
summary(df)
ggplot(df,aes(x=df$V2,fill=df$V3))
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area()
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(stat="count"))
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(stat="count")
?geom_area
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(stat="cumsum")
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(stat="csum")
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(stat="sum")
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(stat="count")
ggplot(df,aes(x=df$V2,y=df$V2,fill=df$V3)) + geom_area(stat="count")
ggplot(df,aes(x=df$V2fill=df$V3)) + geom_area(stat="count")
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(stat="count")
?cumsum
ggplot(df,aes(x=df$V2,fill=df$V3,y=(..count..)/sum(..count..))) + geom_area()
ggplot(df,aes(x=df$V2,fill=df$V3,y= (..count..)/sum(..count..))) + geom_area()
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(y= (..count..)/sum(..count..))
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(y= ..count../sum(..count..))
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(y= ..count../sum(..count..),stat="count")
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(stat="count",y= ..count../sum(..count..))
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_area(stat="count",y= (..count..)/sum(..count..))
ggplot(df,aes(x=df$V2,fill=df$V3)) + geom_line(stat="count")
ggplot(df,aes(x=df$V2,colour=df$V3)) + geom_line(stat="count")
ggplot(df,aes(x=df$V2,colour=df$V3)) + geom_line(stat="count",y=sum(..count..))
ggplot(df,aes(x=df$V2,colour=df$V3)) + geom_line(stat="sum")
summary(df)
df$V4 <- 1
ggplot(df,aes(x=df$V2,colour=df$V3)) + geom_line(stat="sum",y=df$V4)
ggplot(df,aes(x=df$V2,colour=df$V3,y=df$V4)) + geom_line(stat="sum")
?tapply
summary(df)
tapply(df$V4,df$V3,FUN=cumsum)
unlist(tapply(df$V4,df$V3,FUN=cumsum))
df$tot <- unlist(tapply(df$V4,df$V3,FUN=cumsum))
summary(df)
ggplot(df,aes(x=df$V2,colour=df$V3,y=df$tot)) + geom_line()
?taaply
?unlist
?tapply
ls
df$oto
df$tot
library(plyr)
?ddply
ddply(df,.V4,cumsum)
ddply(df,$V4,cumsum)
ddply(df,df$V4,cumsum)
ddply(df,df$V3,transform,CSum=cumsum(df$V4))
summayr(df)
summary(df)
df$tot <- list(NULL)
summary(df)
df$tot <- NULL
summary(df)
ddply(df,df$V3,transform,CSum=cumsum(df$V4))
?ddply
ddply(df,df$V3,cumsum(df$V4))
ddply(df,df$V3,cumsum)
ddply(df$V4,df$V3,cumsum)
?ddply
?dlply
?daply
ddply(df[,c"V3","V4)],df$V3,cumsum)
ddply(df[,c("V3","V4)],df$V3,cumsum)
)
ddply(df[,c("V3","V4")],df$V3,cumsum)
ddply(df[,c("V4")],df$V3,cumsum)
ddply(df[,c("V3","V4")],.V3,cumsum)
ddply(df[,c("V3","V4")],.(V3),cumsum)
ddply(df,.(V3),cumsum)
ddply(df,.(V3),transform,CSum=cumsum(V4))
df2 <- ddply(df,.(V3),transform,CSum=cumsum(V4))
summary(df2)
ggplot(df,aes(x=df$V2,colour=df$V3,y=df$CSum)) + geom_line()
ggplot(df,aes(x=df$V2,colour=df$V3,y=df$CSum)) + geom_line()
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_line()
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_line(position="stack")
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_area()
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_area(position="stack")
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_area(stat=sum)
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_area(stat=cumsum)
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_area(stat="sum")
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_line()
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_area(position=position_stack)
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_area(position="position_stack")
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=sum(df2$CSum))) + geom_area(position=)
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_area()
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$CSum)) + geom_line()
summary(df)
summary(df2)
sum(df2$V4)
df2$frac <- df2*CSum/10421
df2$frac <- df2$CSum/10421
summary(df2)
df2$frac <- df2$CSum/cumsum(df2$V4)
summary(df2)
ggplot(df2,aes(x=df2$V2,colour=df2$V3,y=df2$frac)) + geom_line()
ggplot(df2$frac)
ggplot(y=df2$frac)
ggplot(y=df2$frac) + geom_line()
ggplot() + geom_line(y=df2$frac)
ggplot() + geom_line(aes(y=df2$frac))
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac))
ggplot() + geom_line(aes(x=df2$V2,y=df2$CSum))
ggplot() + geom_line(aes(x=df2$V2,y=cumsum(df2$V4)))
?cumsum
df2$V4
df2$V2
ggplot() + geom_line(aes(x=df2$V2,y=cumsum(df2$V4)))
summary(df2)
df2$total <- cumsum(df2$V4)
df2$total
ggplot() + geom_line(aes(x=df2$V2,y=df2$total))
df2
df2
?sort
?order
df2[ order(V2) }
df2[ order(V2) ]
df2[ order(df2$V2) ]
?order
df2[ order(df2$V2), ]
df2 <- df2[ order(df2$V2), ]
df2$total <- cumsum(df2$V4)
ggplot() + geom_line(aes(x=df2$V2,y=df2$total))
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac))
df2$frac <- df2$CSum/10421
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac))
df2$frac <- df2$CSum/df2$total
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac))
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac,color=df2$class))
summary(df2)
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac,color=df2$V3))
history
hist
df <- read.csv("output.txt/part-00000",header=F,colClasses=c(NA,"POSIXct","factor")))
df <- read.csv("output.txt/part-00000",header=F,colClasses=c(NA,"POSIXct","factor"))
ddply(df,df$V3,transform,CSum=cumsum(df$V4))
df$V4 <- 1
df2 <- ddply(df,df$V3,transform,CSum=cumsum(df$V4))
df <- read.csv("output.txt/part-00000",header=F,colClasses=c(NA,"POSIXct","factor"))
df$V4 <- 1
df2 <- ddply(df,df$V3,transform,CSum=cumsum(df$V4))
df2 <- df2[ order(df2$V2), ]
df2$total <- cumsum(df2$V4)
df2$frac <- df2$CSum/df2$total
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac,color=df2$V3))
summary(df2)
df2$frac <- df2$CSum/df2$total
summary(df2)
df2
summary(df2)
df
summary(df)
df2 <- ddply(df,df$V3,transform,CSum=cumsum(df$V4))
summary(df2)
ddply(df,df$V3,transform,CSum=cumsum(df$V4))
df2 <- ddply(df,.(V3),transform,CSum=cumsum(V4))
summary(df2)
df2 <- ddply(df,.(V3),transform,CSum=cumsum(V4))
df2 <- df2[ order(df2$V2), ]
df2$total <- cumsum(df2$V4)
df2$frac <- df2$CSum/df2$total
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac,color=df2$V3))
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac,color=df2$V3)) + ylim((0,0.33))
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac,color=df2$V3)) + ylim(c(0,0.33))
df <- read.csv("output.txt/part-00000",header=F,colClasses=c(NA,"POSIXct","factor"))
df$V4 <- 1
df2 <- ddply(df,.(V3),transform,CSum=cumsum(V4))
df2 <- df2[ order(df2$V2), ]
df2$total <- cumsum(df2$V4)
df2$frac <- df2$CSum/df2$total
ggplot() + geom_line(aes(x=df2$V2,y=df2$frac,color=df2$V3)) + ylim(c(0,0.33))
q()
